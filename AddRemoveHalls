#include<iostream>6
#include<fstream>
#include<string>
using namespace std;
struct hallplace {
	string floor;
	string room;
};
struct hall {
	string name;
	hallplace place;
	string numberofseats;
};
hall halldata[100];
//get hall data
void retreivedata()
{

	int nameindx = 0;
	int floorindx = 1;
	int roomindx = 2;
	int seatsindx = 3;
	string temp1[100];
	ifstream gethalldata;
	gethalldata.open("halldata.txt");
	if (gethalldata.fail())
	{
		cout << "error" << endl;
	}
	else
	{
		for (int i = 0; i < 100; i++)
		{
			getline(gethalldata, temp1[i]);
		}
		for (int i = 0; i < 100; i++)
		{
			if (temp1[i].empty())
			{
				break;
			}
			else
			{
				halldata[i].name = temp1[nameindx];
				halldata[i].place.floor = temp1[floorindx];
				halldata[i].place.room = temp1[roomindx];
				halldata[i].numberofseats = temp1[seatsindx];
				nameindx += 4;
				floorindx += 4;
				roomindx += 4;
				seatsindx += 4;
			}

		}
	}
}
//end hall data

void addnewhall()
{
int sizeofarray=0 ;
	string room;
	string newhall;
	
	//bravo shatra 
	//loop el cnt to get size
	for (int j = 0; j < 100; j++)
	{
		if (halldata[j].name.empty())
		{
			break;
		}
		else
		{
			sizeofarray++;
		}
	}
	cout << "Enter hall's name : ";
	cin.ignore();
	getline(cin , newhall);
	for (int i = 0; i < sizeofarray; i++)
	{
		if (halldata[i].name == newhall)
		{
			cout << "Sorry , Hall's name already exsist,try again" << endl;
			cout << "Enter hall's name : ";
			cin >> newhall;
		}
		else
		{
			halldata[sizeofarray].name = newhall;
			cout << "Enter the place" << endl << "Floor : ";
			cin >> halldata[sizeofarray].place.floor;
			cout << endl << "Room : ";
			cin >> room;
			for (int k = 0; k < sizeofarray; k++)
			{
				if (halldata[k].place.room == room)
				{
					cout << "Sorry , this room is already reserved ,try again" << endl;
					cout << "Room : ";
					cin >> halldata[sizeofarray].place.room;
				}
			}
			//endloop
			cout << "Enter number of seat (max 100) : ";
			cin >> halldata[sizeofarray].numberofseats;
			break;
		}
	}
	cout << "Data after addition " << endl;
	for (int j = 0; j < sizeofarray+1; j++)
	{
		cout << "Name : " << halldata[j].name << endl;
		cout << "Place:" << endl << "Floor:" << halldata[j].place.floor << endl ;
		cout << "Room :" << halldata[j].place.room << endl;
		cout << "Number of seats :" << halldata[j].numberofseats << endl << "***" << endl;
	}
	system("pause");
}


void removehall()
{
	int sizeofarray = 0;
	for (int j = 0; j < 100; j++)
	{
		if (halldata[j].name.empty())
		{
			break;
		}
		else
		{
			sizeofarray++;
		}
	}
	int removalindex;
	for (int g = 0; g < sizeofarray; g++)
	{
		cout << g + 1 << '-' << halldata[g].name << endl ;
	}
	cout << "Choose number of the hall to be removed : " << endl;
	cin >> removalindex;
	for (int j = removalindex-1 ; j <= sizeofarray-2 ; j++)
	{
		cout << "removal index :" << removalindex << endl;
		halldata[j].name = halldata[j + 1].name;
		halldata[j].place.floor = halldata[j + 1].place.floor;
		halldata[j].place.room = halldata[j + 1].place.room;
		halldata[j].numberofseats = halldata[j + 1].numberofseats;
	}
	cout << "Data after removal" << endl;
	for (int k = 0; k < sizeofarray-1; k++)
	{
		cout << "Name : " << halldata[k].name << endl;
		cout << "Place:" << endl << "Floor:" << halldata[k].place.floor << endl;
		cout << "Room :" << halldata[k].place.room << endl ;
		cout << "Number off seats :" << halldata[k].numberofseats<< endl << "***" << endl ;
	}
	system("pause");
}

int main()
{
	retreivedata();
	char user;
	cout << "Do you want to add or remove hall?(a/r) ";
	cin >> user;
	if (user == 'a')
	{
		addnewhall();
	}
	else if (user == 'r')
	{
		removehall();
	}
	return 0;
	system("pause");
}
